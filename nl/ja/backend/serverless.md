---

copyright:
  years: 2018
lastupdated: "2018-08-07"

---
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:note:.deprecated}

# サーバーレス開発
{: #serverless}

サーバーレスとは何でしょうか? サーバーレス開発パターンとは、イベントによってトリガーされ、一時的な (単一実行の場合は永続的な)、サード・パーティーによって完全に管理される、ステートレス・コンテナー内でサーバー・サイドのロジックが実行されるアプリケーション開発のことを指します。このパラダイムは Functions as a Service (FaaS) とも呼ばれ、開発者は明示的にサーバーのプロビジョニングや管理を行わずにトリガーして実行できるステートレス機能を提供します。

サーバーレス・アーキテクチャーは、サーバー・サイドの開発に必要なインフラストラクチャーとフレームワークを除外することにより、反応的に実行されてデータを変更するコードを作成することに開発者が集中できるようにします。

IBM の FaaS オファリングである [{{site.data.keyword.openwhisk}}](https://console.bluemix.net/openwhisk/) は、専門的なサーバー・サイドの知識を必要とせずに、シームレスなサーバー・サイドの開発を行えるように努めています。サーバーレス・テクノロジーを使用すると、前もってリソースをプロビジョンしなくても、ワークロードの需要を実質的に満たすスケーラブルなバックエンド・ソリューションを即時に開発できます。負荷パターンが予測不能なアプリケーションの場合や、サーバーのダウン時間が長い場合、クラウド・ソリューションとして {{site.data.keyword.openwhisk_short}} を使用すると、パフォーマンスが向上し、「使用した分だけ支払う」システムなのでコストの削減に役立ちます。

## アーキテクチャーの変更点
{: #comparison}

FaaS に切り替えた場合のアーキテクチャー上の利点を理解するのに役立つように、データベースにリンクされた単純な iOS アプリケーションを使用して、従来のアーキテクチャーと FaaS アーキテクチャーを比較します。

従来のアーキテクチャーでは、iOS アプリケーションはネットワーク主体の作業をオフロードしたり、集中サーバーでリモートからデータを処理したりします。アプリケーション自体は、独自のサービスかストレージ・オプションによって接続されます。従来のシステムでは、クライアントへの圧力を最小限に抑え、ユーザー・ベース全体で同期化するために多くの集中タスクを処理する単一のサーバーが重荷を負うことになります。

サーバーレス・アーキテクチャーはこの構造を変更して、以下のイメージのようにすることができます。

![](./images/Architecture.png)図 1. サーバーレス・アーキテクチャー

サーバーレス・アーキテクチャーは、単一のサーバー内ですべての処理や認証のロジックを扱わずに、サーバー・サイドのロジックの多くをカプセル化するハイ・スケーラブルな機能を利用して、一部のロジックをクライアント (と外部サービス) にオフロードします。

図式を参照すると、以下の要点が見えてきます。

1. クライアントが、App ID などの ID プロバイダーに対する認証を行います。
2. アクセス・トークンを含む FaaS バックエンド API に対する呼び出しを行います。
3. {{site.data.keyword.openwhisk_short}} を使用してバックエンドが実装されます。Web アクションとして公開されるサーバーレス・アクションが、要求ヘッダー内にトークンが送信されることを想定して、実際の API に対するアクセス権を提供するためにその妥当性 (署名と有効期限日) を検証します。
4. クライアントがデータを送信すると、{{site.data.keyword.cloudant_short_notm}} 内にフィードバックが保管されます。
5. {{site.data.keyword.toneanalyzershort}} を使用して、フィードバックのテキストが処理されます。
6. 分析結果に基づいて、{{site.data.keyword.mobilepushshort}} によって通知がクライアントに返送されます。
7. クライアントが通知を受け取ります。

純粋なサーバーレス・モデルでは、ユーザーの状態を保管できないために、クライアントに余分な負担がかかることがよくあります。例えば、このケースでは、クライアントと {{site.data.keyword.appid_short_notm}} の ID プロバイダー・サービスで許可が扱われます。

サーバーレス・アーキテクチャーは常に理想的とは限りませんが、適切なチームや使用法の条件下ではかなりの利点があります。特定の例をいくつか確認して、最も一般的な[ユース・ケース](#use_cases)をいくつか学習してください。

## サーバーレスの利点
{: #benefits}

### コストの削減

システム管理に関連した時間と金額のコストを外部委託することにより、従来型のバックエンド・サーバーに関連したコスト全体を削減します。また、{{site.data.keyword.openwhisk_short}} は従来型のコンピューティング・テクノロジーと異なり、コードが要求を満たすためにかかる時間 (100 ミリ秒単位で切り上げ) だけを支払います。VM やコンテナーの使用と比較して、相当のコスト削減が実現する可能性があります。VM やコンテナーの場合は、100% 使用されない可能性や、クラウド・プロバイダーのシステムでメモリーが消費される可能性があります。

### 高可用性とスケーラビリティー

サーバーレス・アーキテクチャーは本質的に、瞬時のスケーラビリティーとほぼ一定の可用性を提供します。

### 開発のスピードとシンプル化

サーバーレス・パラダイムは、システム管理の必要をなくし、デプロイメント用の単純なインターフェースを提供して、アプリケーション開発を加速させます。開発者は、イベント・ドリブンの方式に対応して実行されるアクション・シーケンスによって、アプリを素早くビルドできます。

## ユース・ケースの例
{: #use_cases}

### モバイル・バックエンド
![](./images/cloud-functions-rest-api-trigger.png)

モバイル開発者は、サーバー・サイドのロジックに簡単にアクセスし、計算主体の作業をスケーラブルなクラウド・プラットフォームに外部委託することができます。サーバー・サイドの経験がなくても、iOS SDK を使用して、Swift などの言語で機能を実装し、簡単にサーバー・サイド機能を利用できます。

### データ処理

![](./images/cloud-functions-cloudant-trigger.png)

組み込みのトリガーにより、データ・ストア内のデータが更新されるたびにコードを実行できます。また、サーバー・サイド・プログラムの機能モデルにより、音声正規化、画像回転、鮮明化、ノイズ低減、サムネール生成、ビデオ・トランスコーディングなどの処理を簡単に自動化できます。

### コグニティブ・データ処理

データが使用可能になるとすぐに分析できます。ご使用の機能で IBM Watson のような強力なコグニティブ・サービスを活用して、画像やビデオ内のオブジェクトや人物を検出できます。

### スケジュールされたタスク

機能を定期的に実行し、cron のような構文に従ってスケジュールを定義して、アクションをいつ実行するか指定します。

## API リファレンス
{: #openwhisk_start_api notoc}

<!-- * [REST API Documentation](./openwhisk_reference.html#openwhisk_ref_restapi)-->
* [REST API](https://console.{DomainName}/apidocs/98)

## 関連リンク
{: #general notoc}

* [ディスカバー: {{site.data.keyword.openwhisk_short}}](http://www.ibm.com/cloud-computing/bluemix/openwhisk/)
<!-- redirects to link above * [{{site.data.keyword.openwhisk_short}} on IBM developerWorks](https://developer.ibm.com/openwhisk/)-->
* [Apache OpenWhisk プロジェクト Web サイト](http://openwhisk.org)
* [サーバーレスに関する詳細情報](https://martinfowler.com/articles/serverless.html)
