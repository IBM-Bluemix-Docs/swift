---

copyright:
  years: 2018, 2019
lastupdated: "2019-03-28"

keywords: swift app service, swift versioning, audience swift, messages swift, in-app swift, engagement swift, create feature swift, feature control swift, swift feature release

subcollection: swift

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:gif: data-image-type='gif'}

# 管理应用程序功能部件发布
{: #mobile_applaunch}

{{site.data.keyword.engage_full}} 允许开发者通过控制访问性来构建吸引人参与的应用程序，并应用能够提供可度量指标的应用程序功能部件。该服务可帮助开发者除去当前应用程序功能部件应用与生产环境的应用程序更新之间存在的联结。现在，您可以发布功能部件，而无需将其公开到生产环境，从而以受控方式逐步发布应用程序的新版本。通过 {{site.data.keyword.engage_short}} 服务，应用程序所有者可完全控制目标群的功能部件应用。

{{site.data.keyword.engage_short}} 服务可定义功能部件，根据设备平台（包括定制受众属性）创建受众，并最终定义参与来编排功能部件的计时和位置。使用 SDK 以及应用程序中包含的功能部件和度量值属性后，服务会开始度量受众体验。现在，您可以根据此信息，使用应用程序来为各种类别的应用程序用户创建定制的客户参与。

![Cognitive Engage 概览图](images/process_app_launch.png) 图 1. {{site.data.keyword.engage_short}} 服务生命周期概览图

{{site.data.keyword.engage_short}} 服务的功能部件如下所示：

 - **加快功能部件部署**

    通过受控发布，减低风险，加快功能部件向应用程序的交付。将功能部件发布到一小部分受众群，并根据实时反馈扩大应用或回滚决策。使功能部件的应用独立于常规发布周期执行。

 - **受众分群**

    用户群可以根据人口统计属性、上下文属性和行为属性进行定义。您还可以将功能部件应用到整个用户群中一定比例的用户。可以为每个功能部件和客户端代码定义关键性能指标来度量结果。

 - **根据上下文调整应用程序**

    可以针对特定受众群定制应用程序行为、用户界面和通知。例如，根据用户位置更改应用程序背景。这种用户个性化功能将提高用户对应用程序的参与度。

 - **A/B 测试功能部件**

    通过试验获得置信度。通过同时应用应用程序功能部件的两个变体，对这两者进行比较。可以根据硬数据进行决策。

 - **提高客户参与度**

    提升用户参与度。可以对所有应用程序用户或者对一组特定用户和设备发送通知。可以定义消息安排。用户交互在客户关系中发挥着重要作用。


## 开始之前
{: #prereqs-applaunch}

首先，请确保您已准备好以下必备软件：

 - iOS 10+
 - Xcode 9
 - Swift 3.2 - 4
 - CocoaPods 或 Carthage

## 步骤 1. 创建 {{site.data.keyword.engage_short}} 的实例
{: ##app_launch_create}

1. 在 {{site.data.keyword.cloud_notm}}“目录”中，单击**移动** > **App Launch**。这将打开服务配置屏幕。
2. 为服务实例提供名称或使用预设名称。
3. 单击**创建**。
4. 在导航窗格中，单击**连接**以选择应用程序并将其绑定到服务。如果在创建期间未绑定服务实例，那么可以日后将其绑定到应用程序。

## 步骤 2. 初始化应用程序
{: #initialize-applaunch}

服务提供了特定于平台的 SDK 来简化应用程序开发。{{site.data.keyword.cloud_notm}} Mobile Services Swift SDK 可通过 CocoaPods 或 Carthage 来进行安装。

1. 单击**设置**。
2. 安装 [SDK](https://github.com/ibm-bluemix-mobile-services/bms-clientsdk-swift-applaunch)。有关更多信息，请参阅包含安装步骤和技术概念的`自述`文件。
3. 复制配置密钥以初始化应用程序。使用应用程序密钥、应用程序 GUID 和客户端密钥来配置应用程序并创建参与。

## 步骤 3. 创建功能部件
{: #create-feature-applaunch}

{{site.data.keyword.engage_short}} 服务可创建功能部件并测试对功能部件的响应。

![功能部件详细信息](images/feature_creation_animated.gif){: gif}

要创建功能部件，请完成以下步骤： 
1. 在导航窗格中，单击**功能部件** > **创建新功能部件**。
2. 使用功能部件名称和描述来更新“创建新功能部件和度量值”表单。您还可以定义功能部件属性并添加度量值以测量参与的影响。单击**批量编辑**以通过编辑 JSON 来添加多个属性。
3. 单击**创建**。现在，新功能部件会显示在“功能部件”面板上。
4. 在开发功能部件后将其启用。
5. 要支持将功能部件用作参与，请单击已创建的功能部件。
6. 在“功能部件详细信息”窗口中，将功能部件的“更新状态”选择为**准备就绪**。
7. 单击**更新状态**。
8. 更新应用程序以在 iOS 应用程序中包含新创建的属性和功能部件代码。
9. 现在功能部件已准备就绪可以使用。

通过“功能部件详细信息”窗口，可以将功能部件导出为 JSON 文件，该文件可以在客户端应用程序中用于装入缺省值。

## 步骤 4. 创建受众
{: #audience-applaunch}

![创建受众](images/create_audience_animated.gif){: gif}

要创建受众，请完成下列步骤：

### 创建**受众属性**：
{: #audience-attrib-applaunch}

1. 单击**受众** > **创建属性**。
2. 提供以下值：
  * **名称**：提供属性的相应名称。
  * **描述**：属性的概要描述。
  * **类型**：选择属性类型。
  * **允许值**：输入您要使用的属性值。

  您可以根据需求选择创建多个受众属性，如下图中所示。

### 创建**受众**：
{: #audience-create-applaunch}

1. 单击**创建受众**。
2. 在“新建受众”窗口中提供相应的名称和描述。
3. 选择属性，然后单击**添加**。
4. 从属性列表中选择所需选项。
5. 单击**保存**。

现在，您可以创建参与。

## 步骤 5. 创建参与
{: #engagement-applaunch}

参与是功能部件的实例化，其中属性已初始化，并连接了其中一个预定义的受众。可以使用**功能部件控制**或**应用程序内消息传递**来创建参与。

### 启用功能部件控制功能
{: #feature-control-applaunch}

通过此参与，应用程序所有者可以通过在运行时启用或禁用功能部件来控制该功能部件的可视性。可以对所有应用程序用户或者对一组特定用户和设备启用或禁用功能部件。

可以通过定义开始或结束时间和日期来安排和协调功能部件应用。您还可以选择要启用或禁用已定义功能部件的特定日期。

![动画 gif](images/create_engagement.gif){: gif}

完成以下步骤以使用“功能部件控制”来创建参与：

1. 您可以使用以下任一方法来创建参与：
  - 在导航窗格中单击**参与**。
  - 在已创建的新功能部件上，选择**创建参与**。
  - 在导航窗格，单击**概述** > **创建新参与**。

  此时将显示“新建参与”窗口。

2. 提供新参与的名称和描述。确保参与名称唯一，不能使用已在“参与”列表中列出的名称。
  - **选择参与类型**为**功能部件控制**。
  - 要使用功能部件的多个变体进行受控试验，请在**选择试验类型**中选择 **A/B 测试**。单击**下一步**。

3. 选择已创建的功能部件。还可以选择添加和定义可能要试验的变体。单击**下一步**。

4. 选择受众。单击**下一步**。

5. 通过选择时间以及**开始**日期或时间和**结束**日期或时间来定义触发器。单击**保存**。

  现在，新参与将显示在“参与详细信息”窗口中。

现在您可以测量参与的[性能](/docs/services/app-launch?topic=app-launch-applaunch_type#applaunch_type)了。

### 启用应用程序内消息传递功能
{: #app-message-applaunch}

通过此参与，应用程序所有者可以在应用程序用户活跃地使用应用程序时向其发送通知。

可以对所有应用程序用户或者对一组特定用户和设备发送消息。对于提交给服务的每一条消息，目标受众将会收到一个通知。

可以通过定义开始或结束日期和时间来安排应用程序内消息。还可以根据事件对其进行安排。由于这些消息基于有关用户的选择、交互、设备和应用程序日志等的分析洞察，因此定制性更高。

请参阅以下应用程序内消息示例：

- 发送定制消息。
- 向关闭推送通知的用户发送消息。
- 请求反馈或使用户参与对话。
- 根据用户正在查找的内容发送相关消息。
- 吸引活跃和忠诚客户参与。
- 通知用户有关应用程序更新的消息（新功能部件发布）。

![动画 gif](images/in-app-engagement_animated.gif){: gif}

完成以下步骤以使用“消息传递”选项来创建参与：

1. 您可以使用以下任一方法来创建参与：
  - 在导航窗格中单击**参与**。
  - 在已创建的新功能部件上，选择**创建参与**。
  - 在导航窗格，单击**概述** > **创建新参与**。

  此时将显示“新建参与”窗口。

2. 提供新参与的名称和描述。确保提供的参与名称唯一，不能使用已在“参与”列表中列出的名称。
  - **选择参与类型**为**应用程序内消息传递**
  - 要使用消息传递功能部件的多个变体进行受控试验，请在**选择试验类型**中选择 **A/B 测试**。单击**下一步**。

3. 输入消息属性，然后单击**下一步**。

4. **选择受众**以及您希望达到的受众百分比。单击**下一步**。

5. 通过选择**开始/结束日期和时间**来定义触发器。

6. 选择**事件**，然后单击**下一步**。

7. 将元素映射到要度量的度量值。选择元素并输入度量详细信息。单击**保存**。

  现在，新参与将显示在“参与详细信息”窗口中。

现在您可以测量参与的[性能](/docs/services/app-launch?topic=app-launch-applaunch_type#applaunch_type)了。

## 快速链接
{: #links-applaunch notoc}

查看以下链接以获得洞察，并了解 {{site.data.keyword.engage_short}} 的功能部件：

 - 请试用 [App Launch 服务 ](https://cloud.ibm.com/catalog/services/app-launch){: new_window} ![外部链接图标](../../icons/launch-glyph.svg "外部链接图标")。
 - [博客和视频](/docs/services/app-launch?topic=app-launch-blogs-and-videos#blogs-and-videos)
 - 有关更多信息，请参阅 [App Launch - 入门教程](/docs/services/app-launch?topic=app-launch-gettingstartedtemplate#gettingstartedtemplate)。
